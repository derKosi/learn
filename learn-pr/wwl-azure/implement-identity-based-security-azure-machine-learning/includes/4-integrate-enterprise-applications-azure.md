Your data scientists aren't the only users accessing Azure Machine Learning workspaces—automated systems need access too. CI/CD pipelines deploy models to production, monitoring scripts evaluate endpoint performance, and ETL jobs prepare training data. These automated workflows can't type passwords or respond to MFA prompts. Enterprise applications, implemented through service principals and managed identities, provide secure, non-interactive authentication for automated AI infrastructure tasks.

## Understand service principal authentication

Service principals act as identity proxies for applications rather than humans. When you register an enterprise application in Microsoft Entra ID, Azure creates a service principal—essentially a nonhuman user account with its own credentials and permissions. Your automation scripts authenticate using these credentials instead of impersonating a real user. This separation provides several security advantages. First, service principals have narrow, explicit permissions defined through RBAC—a deployment pipeline might have Contributor access to model registries but no access to training data. Second, credentials for service principals rotate independently from user passwords, preventing credential sprawl. Third, audit logs clearly distinguish between human and automated actions, simplifying compliance reporting and forensic investigations.

Service principals authenticate using either secrets (password-like strings) or certificates. Secret-based authentication offers simplicity—generate a client secret in the Azure portal, store it in your deployment tool, and reference it in authentication code. However, secrets require careful management. They expire after configured durations (typically one or two years), and you must track expiration dates to prevent service disruptions. More critically, secrets represent a security risk if accidentally committed to source control or logged in plain text. For these reasons, production environments should prefer certificate-based authentication, which provides stronger cryptographic guarantees and integrates with certificate management infrastructure like Azure Key Vault for automated rotation.

## Choose managed identities for Azure resources

While service principals work for any application, Azure-hosted resources can use an even simpler approach: managed identities. When you enable managed identity for an Azure resource like a virtual machine or Azure Machine Learning compute cluster, Azure automatically creates and manages the underlying service principal. Your code running on that resource authenticates without storing any credentials—Azure handles token acquisition transparently. This eliminates the credential management burden entirely. No secrets to rotate, no certificates to renew, no risk of credential exposure in logs or source control.

Managed identities come in two varieties that suit different scenarios. System-assigned managed identities create a one-to-one relationship between the Azure resource and its identity. Enable system-assigned identity on an Azure Machine Learning compute cluster, and Azure provisions a dedicated service principal for that cluster alone. When you delete the compute cluster, Azure automatically removes the associated identity. This tight coupling simplifies lifecycle management—you don't need cleanup scripts or orphaned identity tracking. However, the identity only works with that specific resource, limiting reuse across your infrastructure.

:::image type="content" source="../media/system-assigned-managed-identities-relationship.png" alt-text="Diagram showing system-assigned managed identities creating a one-to-one relationship.":::

User-assigned managed identities provide more flexibility by decoupling the identity from individual resources. Create a user-assigned identity once, then assign it to multiple compute clusters, VMs, or Azure Functions. This approach suits scenarios where multiple resources need identical permissions—for example, several training clusters all accessing the same datastore. With this approach, you define the RBAC role assignments once on the user-assigned identity rather than configuring permissions separately for each resource. The trade-off is increased management responsibility—you must explicitly delete user-assigned identities when no longer needed, and you need governance processes to track which resources use which identities.

## Implement certificate-based service principal authentication

For applications running outside Azure, certificate-based service principals offer the best balance of security and flexibility. Certificate authentication relies on public key cryptography rather than shared secrets. You generate a key pair, upload the public certificate to your service principal in Microsoft Entra ID, and configure your application to sign authentication requests with the private key. This approach provides two key security advantages. First, even if an attacker intercepts authentication traffic, they can't derive the private key from observed sign-in attempts. Second, certificate private keys never leave your secure infrastructure—they remain in hardware security modules or secure key stores rather than being transmitted across networks.

Implementing certificate authentication requires coordination between your identity and development teams. Start by generating an X.509 certificate with appropriate validity periods—most organizations use two-year certificates to balance security and operational overhead. Upload the certificate's public portion to your service principal in the Microsoft Entra ID portal under Certificates & secrets. Store the private key in Azure Key Vault with appropriate access policies limiting retrieval to authorized deployment systems. In your application code, retrieve the private key from Key Vault at runtime and use it with the Azure SDK's CertificateCredential class. This pattern keeps sensitive key material isolated from application code and deployment artifacts.

## Configure RBAC permissions for automated workflows

Service principals and managed identities require the same RBAC configuration as user accounts—principle of least privilege still applies. A CI/CD pipeline deploying models to production endpoints needs specific permissions: read access to the model registry, write access to online endpoints, and the ability to update endpoint configurations. It doesn't need permission to submit training jobs, modify compute clusters, or access raw training data. Define these narrow permission boundaries by assigning built-in roles at the appropriate scope. Assign the Azure Machine Learning Data Scientist role to your training automation, which grants experiment and model training permissions without infrastructure management capabilities.

:::image type="content" source="../media/service-principals-managed-identities-configuration.png" alt-text="Diagram showing narrow permission boundaries by assigning built-in roles.":::

When built-in roles don't match your automation requirements precisely, create custom RBAC roles with granular action permissions. For example, a monitoring script that only needs to read endpoint metrics and check deployment status requires fewer permissions than the Contributor role provides. Build a custom role that includes `Microsoft.MachineLearningServices/workspaces/onlineEndpoints/read` and `Microsoft.MachineLearningServices/workspaces/onlineEndpoints/deployments/read` actions while excluding write operations. This precision reduces attack surface—a compromised monitoring script can't modify production deployments even if an attacker gains control. Document custom role definitions in your infrastructure-as-code repositories alongside the service principals that use them, maintaining a clear audit trail of permission grants.

:::image type="content" source="../media/enterprise-application-authentication-flow.png" alt-text="Diagram showing enterprise application authentication flow to an Azure Machine Learning workspace.":::

*Enterprise application authentication flow to Azure Machine Learning workspace*

## More resources

- [Application and service principal objects](/entra/identity-platform/app-objects-and-service-principals) - Conceptual overview of enterprise application identity
- [What are managed identities?](/entra/identity/managed-identities-azure-resources/overview) - Complete guide to managed identity types and usage
- [Use managed identities with Azure Machine Learning](/azure/machine-learning/how-to-identity-based-service-authentication) - Service-specific implementation patterns